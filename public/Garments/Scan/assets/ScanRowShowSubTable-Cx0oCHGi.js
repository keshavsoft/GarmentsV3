import"./EntryFile-De4oQfi8.js";const n="bin",c={GetUrl:n},s=async()=>{let e=i({inGetKey:"inRowPk"});return e===null?(alert("need inRowPk in URL "),await!1):await await(await fetch(`/${c.GetUrl}/ScanHead/${e}`)).json()};let i=({inGetKey:e})=>{const a=window.location.search;return new URLSearchParams(a).get(e)};const d=async()=>await s(),u=async()=>{let e=await d();return e===!1?await!1:(m({inDataAsObject:e}),f(),e)},m=({inDataAsObject:e})=>{document.getElementById("FormId").querySelectorAll("input").forEach(r=>{r.name in e&&(r.value=e[r.name])})},f=()=>{document.getElementById("BsSubTableRefreshId").click()},h="#toolbar",S="true",j="true",F="true",b="true",L=[],V="",w=[{field:"KS-Serial",title:"#",formatter:"jFGlobalSerialColumn"},{field:"QrCode",title:"QrCode"},{field:"ProductName",title:"ProductName"},{field:"CostPrice",title:"CostPrice"},{field:"PercentageValueAddition",title:"PVAddition"},{field:"SalePrice",title:"SalePrice"},{field:"SupplierName",title:"SupplierName"},{field:"DateTime",title:"DateTime"}],y={toolbar:h,search:S,searchable:j,showFooter:F,showPrint:b,data:L,onClickRow:V,columns:w},P=()=>{var e=$("#SubTableId");e.bootstrapTable(y)},R="POST",p={Accept:"application/json","Content-Type":"application/json"},g="",o={method:R,headers:p,body:g};let I=()=>{let e=document.getElementById("FormId");return o.body=JSON.stringify(T(e)),o};function T(e){var a=new FormData(e),t={};for(var[r,l]of a)t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(l)):t[r]=l;return t}const U="bin",v={PostUrl:U};let B=async()=>{let e=v.PostUrl,a=jVarGlobalTableName,t=I(),r=`/${e}/${a}`;return await await(await fetch(r,t)).json()},D=()=>{let a=document.getElementById("FormId").querySelectorAll("[required]"),t=!0;return a.forEach(r=>{if(r.value.trim().length===0){r.classList.add("is-invalid"),t=!1;return}}),t};const k="ShowSimple.html",E={RedirectToUrl:k};let C=()=>{window.location.href=`${jVarGlobalTableName}${E.RedirectToUrl}`},G=async()=>{if(D()){let a=await B();a!==null&&a&&C()}},N=()=>{let e=document.getElementById("SaveButtonId");e!==null&&e.addEventListener("click",G)};const q="bin",A={PostUrl:q};let J=async()=>{let e=A.PostUrl;jVarGlobalSubTableName;let a=K({inGetKey:"inRowPk"}),t=`/${e}/Scan/FilterData/RefPK/${a}`;return await await fetch(t)},K=({inGetKey:e})=>{const a=window.location.search;return new URLSearchParams(a).get(e)},Q=()=>{let a=document.getElementById("FormId").querySelectorAll("[required]"),t=!0;return a.forEach(r=>{if(r.value.trim().length===0){r.classList.add("is-invalid"),t=!1;return}}),t},z=({InData:e})=>{let a=jVarGlobalSubTableTagId;jVarGlobalPresentViewData=e,console.log("InData:",e);var t=$(`#${a}`);t.bootstrapTable("load",e)},H=async()=>{if(Q()){let a=await J();if(a.status===200){let t=await a.json();t&&z({InData:t})}}},O=()=>{let e=document.getElementById("BsSubTableRefreshId");e!==null&&e.addEventListener("click",H)},x=()=>{N(),O()};const M=async()=>{u().then(),P(),x()},W=()=>{M()};W();
